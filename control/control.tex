
{
\tikzset{external/figure name/.add={control_overview/}{}}

\chapter{Control systems}
\label{chap:control}

    \paragraph
    Three different types of controllers are considered in this work, namely \gls{PID}, \gls{LQR}, and \gls{MPC}.
    \gls{PID} control does not provide active swing-damping control of the payload, but it is used in the training data stage discussed in Chapter~\ref{chap:system_id}. 
    \gls{LQR} is a popular and well-known optimal control technique. 
    In previous work by \cite{Erasmus2020} and \cite{Slabber2020}, 
    an \gls{LQR} implementation with an parameter estimator was designed for active swing-damping control of a multirotor with an unknown suspended payload.
    This \gls{LQR} architecture was shown to be an effective swing-damping controller and will be applied in this work as the baseline controller.
    
    \paragraph
    A data-driven system identification method was introduced in Chapter~\ref{chap:system_id} to estimate a linear model of unknown dynamics.
    The models generated by this method will be used in an \gls{MPC} for active swing-damping control of the multirotor and payload system. 
    The proposed \gls{MPC} architecture will therefore be compared to the baseline \gls{LQR} controller.
    These swing-damping control architectures are summarised in Table~\ref{tbl:controller_summary}, where each controller is paired with a system identification method.

    % ?? Check tenses in every intro of every chapter

    \begin{table}[!h]
        \renewcommand{\arraystretch}{1.1}
        \centering
        \caption{System identification techniques paired with the corresponding controllers.}
        \begin{tabularx}{0.75\linewidth}{@{}lll@{}}
            \toprule
            \multicolumn{2}{c}{\textbf{System identification}}   & \textbf{Controller} \\
            \cmidrule(lr){1-2}
            Model type    & Algorithm                     & \\
            \midrule
            White-box   & \gls{RLS} mass estimator, and       & \gls{LQR} \\
                        & \gls{FFT} cable length estimator    & \\
            Black-box   & \gls{DMDc}, or                      & \gls{MPC} \\
                        & \gls{HAVOKc}                         & \\
            \bottomrule
        \end{tabularx}
        \label{tbl:controller_summary}
    \end{table}

% ?? Where is it decided that DMDc will be used? SHould HAVOKc continue to be seen?

    % \paragraph
    % In this chapter, an overview of the different controllers will be given and the design process of each controller will be explained.
    % A MATLAB/Simulink simulation environment will also be introduced to test these controllers.
    % The controllers will then be tested in simulations with different system parameters and disturbances.
    % Finally, the simulation results will be shown and discussed.
    
    \paragraph
    In this chapter, a MATLAB/Simulink simulation environment will be introduced to test the proposed control architectures.
    An overview of the different controllers will be given and the design process of each controller will be explained.
    The controllers will then be tested in simulations with different system parameters and disturbances.
    Finally, the simulation results will be shown and discussed.
    
    \input{control/simulation_environment}

    \input{control/pid}

    \input{control/lqr}

    \input{control/mpc}


} % End tikz set for controllers overview

            
    \input{control/control_implementation.tex}   

    