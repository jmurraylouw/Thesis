\graphicspath{{conclusion/fig/}}

\chapter{Conclusion} \label{chap:conclusion}

    \paragraph
    This thesis considered the design and practical implementation of stabilising control architecture for a multirotor with an unknown suspended payload.
    A broad scope was considered which includes two main categories, namely, 
    \begin{itemize}
        \item Data-driven system identification of unknown payload dynamics 
        \item Optimal swing damping control of a multirotor
    \end{itemize}
    The content and outcome of this work will be summarised in this chapter.

    % ?? Use words from evaluation sheet. Like large scope...

    \section{Summary}

        \paragraph
        Existing solutions for stabilised multirotor control with a suspended payload were identified in the literature.
        The literature study showed that few studies included experimental results or algorithm testing on practical hardware.
        also, most studies did not account for uncertainty in the controlled system.
        A thorough study of the literature showed that some solutions accounted for parameter uncertainty, but few studies assumed no knowledge of the payload dynamics.
        
        \paragraph
        Furthermore, the few studies that achieved stabilised control despite unknown dynamics, 
        counteracted the payload effect as an unknown disturbance instead of actively controlling the payload state. 
        This focusses on robustness rather than smooth control of the complete multirotor-payload system. 

        % \paragraph
        % Therefore, this study aimed to design a stabilising control architecture that achieves smooth control of the complete system without prior payload knowledge.
        % Furthermore, it was deemed important to demonstrate the technique using experimental data and practical computational hardware.

        \paragraph
        The controller design started with the mathematical derivation of a dynamical model for a quadrotor named Honeybee.
        The dynamical equations of the multirotor-payload system and PX4 controller architecture were implemented in a MATLAB/Simulink simulation for controller design and testing.
        This simulation environment was also verified with practical data from Honeybee and shown to be accurate.
        
        \paragraph
        An LQR controller was identified as a popular baseline controller in the literature and was selected as the baseline swing damping controller for this work.
        The specific implementation used in this work is based on a previous study which only considers parameter uncertainty. 
        The LQR controller is based on a linearised, a priori model of the multirotor-payload system.
        The payload mass and cable length are unknown before flight and are estimated with \gls{RLS} and \gls{FFT} estimators respectively.
        
        \paragraph
        The baseline parameter estimation technique was described and applied to data from \gls{SITL} simulations with Gazebo.
        It was shown that the white-box model which uses the estimated parameters captured the general shape of the system state predictions well, despite estimation errors.
        The white-box model based technique was also applied to a dynamic payload use case.
        An elongated payload was suspended from the multirotor and acted as a double pendulum, inducing irregular oscillations in the system.
        For this use case, the resultant white-box model predictions did not represent the general shape of the payload dynamics.

        \paragraph
        \gls{DMDc} and \gls{HAVOKc} were introduced as the data-driven system identification techniques proposed by this work.
        These are linear regression techniques which produce a discrete, linear space-space model of the considered dynamics based on input and output data only.
        The conventional \gls{HAVOK} is not designed to be applied to controlled systems.
        However, this algorithm was adapted in this work to account for control inputs in a dynamical system.
        The resultant algorithm is referred to as \gls{HAVOKc}.
        The conventional \gls{DMDc} algorithm was also altered to include delay-coordinates in a similar way to \gls{HAVOK}.

        \paragraph
        These algorithms were applied to multiple SITL simulations for testing.
        Train test split.
        The performance of these techniques were based on an \gls{NMAE} error metric of the model predictions over a time horizon.
        Results showed, hyperparameters, noise, system parameters, length of training data.

        Dynamic payload...

        % \paragraph
        % The uncertainty considered by the baseline method is that the payload mass and cable length are unknown.
        % The control architecture proposed by this work is not based on a predetermined model of the payload dynamics.
        % This method assumes that the dynamical model of the payload is also unknown prior to flight.

        \paragraph
        Control techniques

        \paragraph
        Control results

        \paragraph
        Practical data fro sys id

        \paragraph
        HITL for control

        \paragraph
        Final wrap up
        
    \section{Recommended future work}
        
        \paragraph
        Recommendations for future work include:
        \begin{itemize}
            \item 
        \end{itemize}

